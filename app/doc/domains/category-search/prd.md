# PRD: Category & Search (MVP)

## 1) 목표
- 병의원(한의사)이 필요한 업체를 “다나와/아마존”처럼 찾을 수 있게 한다.
- 카테고리 트리 + 검색/필터/정렬의 최소 기능을 제공한다.

## 2) 범위
### MVP 포함
- 대/중/소 카테고리 트리
- 업체 리스트 필터(카테고리, 가격대, 평점(있다면), 인증 배지(있다면))
- 정렬(최신/인기/응답순 등은 데이터 상황에 맞춰 최소 1~2개부터)
- 키워드 검색(업체명/소개/태그/카테고리명)

### MVP 제외(P1+)
- 추천(가입시 관심 카테고리 기반) 고도화
- 외부 쇼핑몰 통합검색

## 3) UX/플로우
- 메인: 카테고리 선택 → 리스트 진입
- 리스트: 필터/정렬/검색 → 업체 카드 클릭
- 상세: 업체 정보 확인 → 문의하기로 이동(Lead PRD)

## 4) API(BFF) 초안
- `GET /api/categories`
- `GET /api/vendors?categoryId=&q=&priceMin=&priceMax=&sort=`

## 5) 데이터 모델(초안)
- `categories`
  - `id`, `parent_id`, `depth`, `name`, `slug`, `sort_order`, `is_active`
- `vendor_categories`
  - `vendor_id`, `category_id`
- (선택) `vendor_search_index`(뷰) 또는 FTS 인덱스/컬럼

## 6) RLS 정책(요약)
- 카테고리는 공개 read
- 업체 리스트는 공개 read(단, 비활성/제재 업체는 제외)

## 7) 오픈 이슈(결정 필요)
- “인기/추천”의 정의(초기에는 최신/평점/응답률 중 택1 권장)
- 가격 필터 데이터 소스(가격대 범위 vs 상품/옵션 기반)

## 8) 완료 기준(AC)
- 사용자가 카테고리로 업체 리스트를 탐색하고, 검색/필터/정렬이 동작한다.

